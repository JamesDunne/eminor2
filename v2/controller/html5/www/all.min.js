Object.getPrototypeOf||(Object.getPrototypeOf=function(a){if(a!==Object(a))throw new TypeError("Object.getPrototypeOf called on non-object");return a.__proto__||a.constructor.prototype||Object.prototype});"function"!==typeof Object.getOwnPropertyNames&&(Object.getOwnPropertyNames=function(a){if(a!==Object(a))throw new TypeError("Object.getOwnPropertyNames called on non-object");var d=[],c;for(c in a)Object.prototype.hasOwnProperty.call(a,c)&&d.push(c);return d});
"function"!==typeof Object.create&&(Object.create=function(a,d){function c(){}if("object"!==typeof a)throw new TypeError;c.prototype=a;var e=new c;a&&(e.constructor=c);if(1<arguments.length){if(d!==Object(d))throw new TypeError;Object.defineProperties(e,d)}return e});
(function(){var a;if(!(a=!Object.defineProperty)){var d;try{Object.defineProperty({},"x",{}),d=!0}catch(c){d=!1}a=!d}if(a){var e=Object.defineProperty;Object.defineProperty=function(a,c,d){if(e)try{return e(a,c,d)}catch(ma){}if(a!==Object(a))throw new TypeError("Object.defineProperty called on non-object");Object.prototype.__defineGetter__&&"get"in d&&Object.prototype.__defineGetter__.call(a,c,d.get);Object.prototype.__defineSetter__&&"set"in d&&Object.prototype.__defineSetter__.call(a,c,d.set);"value"in
d&&(a[c]=d.value);return a}}})();"function"!==typeof Object.defineProperties&&(Object.defineProperties=function(a,d){if(a!==Object(a))throw new TypeError("Object.defineProperties called on non-object");for(var c in d)Object.prototype.hasOwnProperty.call(d,c)&&Object.defineProperty(a,c,d[c]);return a});Object.keys||(Object.keys=function(a){if(a!==Object(a))throw new TypeError("Object.keys called on non-object");var d=[],c;for(c in a)Object.prototype.hasOwnProperty.call(a,c)&&d.push(c);return d});
Function.prototype.bind||(Function.prototype.bind=function(a){function d(){}if("function"!==typeof this)throw new TypeError("Bind must be called on a function");var c=[].slice,e=c.call(arguments,1),f=this,g=function(){return f.apply(this instanceof d?this:a||{},e.concat(c.call(arguments)))};d.prototype=f.prototype;g.prototype=new d;return g});Array.isArray=Array.isArray||function(a){return Boolean(a&&"[object Array]"===Object.prototype.toString.call(Object(a)))};
Array.prototype.indexOf||(Array.prototype.indexOf=function(a){if(void 0===this||null===this)throw new TypeError;var d=Object(this),c=d.length>>>0;if(0===c)return-1;var e=0;0<arguments.length&&(e=Number(arguments[1]),isNaN(e)?e=0:0!==e&&e!==1/0&&e!==-(1/0)&&(e=(0<e||-1)*Math.floor(Math.abs(e))));if(e>=c)return-1;for(e=0<=e?e:Math.max(c-Math.abs(e),0);e<c;e++)if(e in d&&d[e]===a)return e;return-1});
Array.prototype.lastIndexOf||(Array.prototype.lastIndexOf=function(a){if(void 0===this||null===this)throw new TypeError;var d=Object(this),c=d.length>>>0;if(0===c)return-1;var e=c;1<arguments.length&&(e=Number(arguments[1]),e!==e?e=0:0!==e&&e!==1/0&&e!==-(1/0)&&(e=(0<e||-1)*Math.floor(Math.abs(e))));for(c=0<=e?Math.min(e,c-1):c-Math.abs(e);0<=c;c--)if(c in d&&d[c]===a)return c;return-1});
Array.prototype.every||(Array.prototype.every=function(a,d){if(void 0===this||null===this)throw new TypeError;var c=Object(this),e=c.length>>>0;if("function"!==typeof a)throw new TypeError;var f;for(f=0;f<e;f++)if(f in c&&!a.call(d,c[f],f,c))return!1;return!0});
Array.prototype.some||(Array.prototype.some=function(a,d){if(void 0===this||null===this)throw new TypeError;var c=Object(this),e=c.length>>>0;if("function"!==typeof a)throw new TypeError;var f;for(f=0;f<e;f++)if(f in c&&a.call(d,c[f],f,c))return!0;return!1});Array.prototype.forEach||(Array.prototype.forEach=function(a,d){if(void 0===this||null===this)throw new TypeError;var c=Object(this),e=c.length>>>0;if("function"!==typeof a)throw new TypeError;var f;for(f=0;f<e;f++)f in c&&a.call(d,c[f],f,c)});
Array.prototype.map||(Array.prototype.map=function(a,d){if(void 0===this||null===this)throw new TypeError;var c=Object(this),e=c.length>>>0;if("function"!==typeof a)throw new TypeError;var f=[];f.length=e;var g;for(g=0;g<e;g++)g in c&&(f[g]=a.call(d,c[g],g,c));return f});
Array.prototype.filter||(Array.prototype.filter=function(a,d){if(void 0===this||null===this)throw new TypeError;var c=Object(this),e=c.length>>>0;if("function"!==typeof a)throw new TypeError;var f=[],g;for(g=0;g<e;g++)if(g in c){var n=c[g];a.call(d,n,g,c)&&f.push(n)}return f});
Array.prototype.reduce||(Array.prototype.reduce=function(a){if(void 0===this||null===this)throw new TypeError;var d=Object(this),c=d.length>>>0;if("function"!==typeof a)throw new TypeError;if(0===c&&1===arguments.length)throw new TypeError;var e=0,f;if(2<=arguments.length)f=arguments[1];else{do{if(e in d){f=d[e++];break}if(++e>=c)throw new TypeError;}while(1)}for(;e<c;)e in d&&(f=a.call(void 0,f,d[e],e,d)),e++;return f});
Array.prototype.reduceRight||(Array.prototype.reduceRight=function(a){if(void 0===this||null===this)throw new TypeError;var d=Object(this),c=d.length>>>0;if("function"!==typeof a)throw new TypeError;if(0===c&&1===arguments.length)throw new TypeError;var c=c-1,e;if(2<=arguments.length)e=arguments[1];else{do{if(c in this){e=this[c--];break}if(0>--c)throw new TypeError;}while(1)}for(;0<=c;)c in d&&(e=a.call(void 0,e,d[c],c,d)),c--;return e});
String.prototype.trim||(String.prototype.trim=function(){return String(this).replace(/^\s+/,"").replace(/\s+$/,"")});Date.now||(Date.now=function(){return Number(new Date)});
Date.prototype.toISOString||(Date.prototype.toISOString=function(){function a(a){return("00"+a).slice(-2)}return this.getUTCFullYear()+"-"+a(this.getUTCMonth()+1)+"-"+a(this.getUTCDate())+"T"+a(this.getUTCHours())+":"+a(this.getUTCMinutes())+":"+a(this.getUTCSeconds())+"."+function(a){return("000"+a).slice(-3)}(this.getUTCMilliseconds())+"Z"});"window"in this&&"document"in this&&(document.head=document.head||document.getElementsByTagName("head")[0],window.XMLHttpRequest=window.XMLHttpRequest||function(){try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(a){}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(d){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(c){}throw Error("This browser does not support XMLHttpRequest.");},XMLHttpRequest.UNSENT=0,XMLHttpRequest.OPENED=1,XMLHttpRequest.HEADERS_RECEIVED=2,XMLHttpRequest.LOADING=
3,XMLHttpRequest.DONE=4,function(){function a(){var a=f;f=Object.create(null);n=-1;Object.keys(a).forEach(function(c){c=a[c];var d;(d=!c.element)||(d=c.element,d=0<d.offsetWidth&&0<d.offsetHeight);d&&c.callback(Date.now())})}function d(c,d){var Na=g++;f[Na]={callback:c,element:d};-1===n&&(n=window.setTimeout(a,1E3/e));return Na}function c(a){delete f[a];0===Object.keys(f).length&&(window.clearTimeout(n),n=-1)}var e=60,f=Object.create(null),g=1,n=-1;window.requestAnimationFrame=window.requestAnimationFrame||
window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||d;window.cancelAnimationFrame=window.cancelRequestAnimationFrame=window.cancelAnimationFrame||window.cancelRequestAnimationFrame||window.webkitCancelAnimationFrame||window.webkitCancelRequestAnimationFrame||window.mozCancelAnimationFrame||window.mozCancelRequestAnimationFrame||window.oCancelAnimationFrame||window.oCancelRequestAnimationFrame||window.msCancelAnimationFrame||
window.msCancelRequestAnimationFrame||c}(),function(){function a(a,d){var f=[].slice.call(arguments,1);return window.setTimeout(function(){a.apply(null,f)},0)}function d(a){window.clearTimeout(a)}window.setImmediate=window.setImmediate||window.msSetImmediate||a;window.clearImmediate=window.clearImmediate||window.msClearImmediate||d}(),document.querySelectorAll||(document.querySelectorAll=function(a){var d=document.createElement("style"),c=[];document.documentElement.firstChild.appendChild(d);document._qsa=
[];d.styleSheet.cssText=a+"{x-qsa:expression(document._qsa && document._qsa.push(this))}";window.scrollBy(0,0);for(d.parentNode.removeChild(d);document._qsa.length;)a=document._qsa.shift(),a.style.removeAttribute("x-qsa"),c.push(a);document._qsa=null;return c}),document.querySelector||(document.querySelector=function(a){a=document.querySelectorAll(a);return a.length?a[0]:null}),document.getElementsByClassName||(document.getElementsByClassName=function(a){a=String(a).replace(/^|\s+/g,".");return document.querySelectorAll(a)}),
"TextRectangle"in this&&!("width"in TextRectangle.prototype)&&Object.defineProperties(TextRectangle.prototype,{width:{get:function(){return this.right-this.left}},height:{get:function(){return this.bottom-this.top}}}),window.Node=window.Node||function(){throw new TypeError("Illegal constructor");},Node.ELEMENT_NODE=1,Node.ATTRIBUTE_NODE=2,Node.TEXT_NODE=3,Node.CDATA_SECTION_NODE=4,Node.ENTITY_REFERENCE_NODE=5,Node.ENTITY_NODE=6,Node.PROCESSING_INSTRUCTION_NODE=7,Node.COMMENT_NODE=8,Node.DOCUMENT_NODE=
9,Node.DOCUMENT_TYPE_NODE=10,Node.DOCUMENT_FRAGMENT_NODE=11,Node.NOTATION_NODE=12,window.DOMException=window.DOMException||function(){throw new TypeError("Illegal constructor");},DOMException.INDEX_SIZE_ERR=1,DOMException.DOMSTRING_SIZE_ERR=2,DOMException.HIERARCHY_REQUEST_ERR=3,DOMException.WRONG_DOCUMENT_ERR=4,DOMException.INVALID_CHARACTER_ERR=5,DOMException.NO_DATA_ALLOWED_ERR=6,DOMException.NO_MODIFICATION_ALLOWED_ERR=7,DOMException.NOT_FOUND_ERR=8,DOMException.NOT_SUPPORTED_ERR=9,DOMException.INUSE_ATTRIBUTE_ERR=
10,DOMException.INVALID_STATE_ERR=11,DOMException.SYNTAX_ERR=12,DOMException.INVALID_MODIFICATION_ERR=13,DOMException.NAMESPACE_ERR=14,DOMException.INVALID_ACCESS_ERR=15,function(){function a(a,c,d){"DOMContentLoaded"===a&&(a="load");var e=this;d=function(a){a._timeStamp=Number(new Date);a._currentTarget=e;c.call(this,a);a._currentTarget=null};this["_"+a+c]=d;this.attachEvent("on"+a,d)}function d(a,c,d){"DOMContentLoaded"===a&&(a="load");if(d=this["_"+a+c])this.detachEvent("on"+a,d),this["_"+a+c]=
null}if("Element"in window&&!Element.prototype.addEventListener&&Object.defineProperty){Event.CAPTURING_PHASE=1;Event.AT_TARGET=2;Event.BUBBLING_PHASE=3;Object.defineProperty(Event.prototype,"CAPTURING_PHASE",{get:function(){return 1}});Object.defineProperty(Event.prototype,"AT_TARGET",{get:function(){return 2}});Object.defineProperty(Event.prototype,"BUBBLING_HASE",{get:function(){return 3}});Object.defineProperty(Event.prototype,"target",{get:function(){return this.srcElement}});Object.defineProperty(Event.prototype,
"currentTarget",{get:function(){return this._currentTarget}});Object.defineProperty(Event.prototype,"eventPhase",{get:function(){return this.srcElement===this.currentTarget?Event.AT_TARGET:Event.BUBBLING_PHASE}});Object.defineProperty(Event.prototype,"bubbles",{get:function(){switch(this.type){case "click":case "dblclick":case "mousedown":case "mouseup":case "mouseover":case "mousemove":case "mouseout":case "mousewheel":case "keydown":case "keypress":case "keyup":case "resize":case "scroll":case "select":case "change":case "submit":case "reset":return!0}return!1}});
Object.defineProperty(Event.prototype,"cancelable",{get:function(){switch(this.type){case "click":case "dblclick":case "mousedown":case "mouseup":case "mouseover":case "mouseout":case "mousewheel":case "keydown":case "keypress":case "keyup":case "submit":return!0}return!1}});Object.defineProperty(Event.prototype,"timeStamp",{get:function(){return this._timeStamp}});Event.prototype.stopPropagation=function(){this.cancelBubble=!0};Event.prototype.preventDefault=function(){this.returnValue=!1};Object.defineProperty(Event.prototype,
"defaultPrevented",{get:function(){return!1===this.returnValue}});var c=Window.prototype,e=HTMLDocument.prototype,f=Element.prototype;c.addEventListener=e.addEventListener=f.addEventListener=a;c.removeEventListener=e.removeEventListener=f.removeEventListener=d}}(),window.addEvent=function(a,d,c){a.addEventListener?a.addEventListener(d,c,!1):a.attachEvent&&(a["e"+d+c]=c,a[d+c]=function(){var e=window.event;e.currentTarget=a;e.preventDefault=function(){e.returnValue=!1};e.stopPropagation=function(){e.cancelBubble=
!0};e.target=e.srcElement;e.timeStamp=Number(new Date);a["e"+d+c].call(this,e)},a.attachEvent("on"+d,a[d+c]))},window.removeEvent=function(a,d,c){a.removeEventListener?a.removeEventListener(d,c,!1):a.detachEvent&&(a.detachEvent("on"+d,a[d+c]),a[d+c]=null,a["e"+d+c]=null)},function(){function a(a,d){function f(a){return a.length?a.split(/\s+/g):[]}function g(a,d){var c=f(d),e=c.indexOf(a);-1!==e&&c.splice(e,1);return c.join(" ")}Object.defineProperties(this,{length:{get:function(){return f(a[d]).length}},
item:{value:function(g){var n=f(a[d]);return 0<=g&&g<n.length?n[g]:null}},contains:{value:function(g){g=String(g);if(0===g.length)throw new SyntaxError;if(/\s/.test(g))throw Error("InvalidCharacterError");return-1!==f(a[d]).indexOf(g)}},add:{value:function(g){tokens=Array.prototype.slice.call(arguments).map(String);if(tokens.some(function(a){return 0===a.length}))throw new SyntaxError;if(tokens.some(function(a){return/\s/.test(a)}))throw Error("InvalidCharacterError");try{var n=a[d],Na=f(n);tokens=
tokens.filter(function(a){return-1===Na.indexOf(a)});0!==tokens.length&&(0===n.length||/\s$/.test(n)||(n+=" "),n+=tokens.join(" "),a[d]=n)}finally{n=f(a[d]).length,this.length!==n&&(this.length=n)}}},remove:{value:function(n){tokens=Array.prototype.slice.call(arguments).map(String);if(tokens.some(function(a){return 0===a.length}))throw new SyntaxError;if(tokens.some(function(a){return/\s/.test(a)}))throw Error("InvalidCharacterError");try{var Oa=a[d];tokens.forEach(function(a){Oa=g(a,Oa)});a[d]=Oa}finally{var Na=
f(a[d]).length;this.length!==Na&&(this.length=Na)}}},toggle:{value:function(n,Oa){try{n=String(n);if(0===n.length)throw new SyntaxError;if(/\s/.test(n))throw Error("InvalidCharacterError");var Na=f(a[d]).indexOf(n);if(-1!==Na&&(!Oa||void 0===Oa))return a[d]=g(n,a[d]),!1;if(-1!==Na&&Oa)return!0;var Sa=a[d];0===Sa.length||/\s$/.test(Sa)||(Sa+=" ");a[d]=Sa+n;return!0}finally{Na=f(a[d]).length,this.length!==Na&&(this.length=Na)}}},toString:{value:function(){return a[d]}}});if("length"in this)for(var n=
0;100>n;++n)Object.defineProperty(this,String(n),{get:function(a){return function(){return this.item(a)}}(n)});else this.length=f(a[d]).length}function d(a,d){"Element"in window&&Element.prototype&&Object.defineProperty&&Object.defineProperty(Element.prototype,a,{get:d})}"classList"in document.createElement("span")?window.getClassList=function(a){return a.classList}:(window.getClassList=function(d){return new a(d,"className")},d("classList",function(){return new a(this,"className")}));"relList"in
document.createElement("link")?window.getRelList=function(a){return a.relList}:(window.getRelList=function(d){return new a(d,"rel")},d("relList",function(){return new a(this,"rel")}))}(),!("dataset"in document.createElement("span"))&&"Element"in window&&Element.prototype&&Object.defineProperty&&Object.defineProperty(Element.prototype,"dataset",{get:function(){for(var a=Object.create(null),d=0;d<this.attributes.length;++d){var c=this.attributes[d];c.specified&&"data-"===c.name.substring(0,5)&&function(d,
c){Object.defineProperty(a,c,{get:function(){return d.getAttribute("data-"+c)},set:function(a){d.setAttribute("data-"+c,a)}})}(this,c.name.substring(5))}return a}}));
(function(a){a.atob=a.atob||function(a){a=String(a);var c=0,e=[],f=0,g=0,n;a=a.replace(/\s/g,"");0===a.length%4&&(a=a.replace(/=+$/,""));if(1===a.length%4)throw Error("InvalidCharacterError");if(/[^+/0-9A-Za-z]/.test(a))throw Error("InvalidCharacterError");for(;c<a.length;)n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(a.charAt(c)),f=f<<6|n,g+=6,24===g&&(e.push(String.fromCharCode(f>>16&255)),e.push(String.fromCharCode(f>>8&255)),e.push(String.fromCharCode(f&255)),f=
g=0),c+=1;12===g?e.push(String.fromCharCode(f>>4&255)):18===g&&(f>>=2,e.push(String.fromCharCode(f>>8&255)),e.push(String.fromCharCode(f&255)));return e.join("")};a.btoa=a.btoa||function(a){a=String(a);var c=0,e=[],f,g,n,ma;if(/[^\x00-\xFF]/.test(a))throw Error("InvalidCharacterError");for(;c<a.length;)f=a.charCodeAt(c++),g=a.charCodeAt(c++),n=a.charCodeAt(c++),ma=f>>2,f=(f&3)<<4|g>>4,g=(g&15)<<2|n>>6,n&=63,c===a.length+2?n=g=64:c===a.length+1&&(n=64),e.push("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(ma),
"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(f),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(g),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(n));return e.join("")}})(this);
(function(){String.prototype.trimLeft=String.prototype.trimLeft||function(){return String(this).replace(/^\s+/,"")};String.prototype.trimRight=String.prototype.trimRight||function(){return String(this).replace(/\s+$/,"")};var a={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};String.prototype.quote=String.prototype.quote||function(){return'"'+String(this).replace(/[\x00-\x1F"\\\x7F-\uFFFF]/g,function(d){return Object.prototype.hasOwnProperty.call(a,d)?a[d]:255>=d.charCodeAt(0)?
"\\x"+("00"+d.charCodeAt(0).toString(16).toUpperCase()).slice(-2):"\\u"+("0000"+d.charCodeAt(0).toString(16).toUpperCase()).slice(-4)})+'"'}})();(function(a){function d(a){if(Object.getOwnPropertyNames&&Object.defineProperty){var d=Object.getOwnPropertyNames(a),c;for(c=0;c<d.length;c+=1)Object.defineProperty(a,d[c],{value:a[d[c]],writable:!1,enumerable:!1,configurable:!1})}}function c(a){function d(c){Object.defineProperty(a,c,{get:function(){return a._getter(c)},set:function(d){a._setter(c,d)},enumerable:!0,configurable:!1})}if(Object.defineProperty){if(a.length>gb)throw new RangeError("Array too large for polyfill");var c;for(c=0;c<a.length;c+=
1)d(c)}}function e(a,d){var c=32-d;return a<<c>>c}function f(a,d){var c=32-d;return a<<c>>>c}function g(a){return[a&255]}function n(a){return e(a[0],8)}function ma(a){return[a&255]}function Oa(a){return f(a[0],8)}function Na(a){a=lb(Number(a));return[0>a?0:255<a?255:a&255]}function Sa(a){return[a>>8&255,a&255]}function bb(a){return e(a[0]<<8|a[1],16)}function $a(a){return[a>>8&255,a&255]}function Ta(a){return f(a[0]<<8|a[1],16)}function Ya(a){return[a>>24&255,a>>16&255,a>>8&255,a&255]}function ab(a){return e(a[0]<<
24|a[1]<<16|a[2]<<8|a[3],32)}function db(a){return[a>>24&255,a>>16&255,a>>8&255,a&255]}function Ua(a){return f(a[0]<<24|a[1]<<16|a[2]<<8|a[3],32)}function p(a,d,c){function e(a){var d=G(a);a-=d;return 0.5>a?d:0.5<a?d+1:d%2?d+1:d}var f=(1<<d-1)-1,n,g,p;a!==a?(g=(1<<d)-1,p=Wa(2,c-1),n=0):Infinity===a||-Infinity===a?(g=(1<<d)-1,p=0,n=0>a?1:0):0===a?(p=g=0,n=-Infinity===1/a?1:0):(n=0>a,a=hb(a),a>=Wa(2,1-f)?(g=eb(G(Va(a)/Xa),1023),p=e(a/Wa(2,g)*Wa(2,c)),2<=p/Wa(2,c)&&(g+=1,p=1),g>f?(g=(1<<d)-1,p=0):(g+=
f,p-=Wa(2,c))):(g=0,p=e(a/Wa(2,1-f-c))));for(a=[];c;c-=1)a.push(p%2?1:0),p=G(p/2);for(c=d;c;c-=1)a.push(g%2?1:0),g=G(g/2);a.push(n?1:0);a.reverse();d=a.join("");for(n=[];d.length;)n.push(parseInt(d.substring(0,8),2)),d=d.substring(8);return n}function Pa(a,d,c){var e=[],G,f,n;for(G=a.length;G;G-=1)for(n=a[G-1],f=8;f;f-=1)e.push(n%2?1:0),n>>=1;e.reverse();f=e.join("");a=(1<<d-1)-1;e=parseInt(f.substring(0,1),2)?-1:1;G=parseInt(f.substring(1,1+d),2);f=parseInt(f.substring(1+d),2);return G===(1<<d)-
1?0!==f?NaN:Infinity*e:0<G?e*Wa(2,G-a)*(1+f/Wa(2,c)):0!==f?e*Wa(2,-(a-1))*(f/Wa(2,c)):0>e?-0:0}function Qa(a){return Pa(a,11,52)}function Za(a){return p(a,11,52)}function cb(a){return Pa(a,8,23)}function fb(a){return p(a,8,23)}var ib=void 0,gb=1E5,Ra=function(){var a=Object.prototype.toString,d=Object.prototype.hasOwnProperty;return{Class:function(d){return a.call(d).replace(/^\[object *|\]$/g,"")},HasProperty:function(a,d){return d in a},HasOwnProperty:function(a,c){return d.call(a,c)},IsCallable:function(a){return"function"===
typeof a},ToInt32:function(a){return a>>0},ToUint32:function(a){return a>>>0}}}(),Xa=Math.LN2,hb=Math.abs,G=Math.floor,Va=Math.log,eb=Math.min,Wa=Math.pow,lb=Math.round,jb;if(!(jb=!Object.defineProperty)){var kb;try{Object.defineProperty({},"x",{}),kb=!0}catch(mb){kb=!1}jb=!kb}jb&&(Object.defineProperty=function(a,d,c){if(!a===Object(a))throw new TypeError("Object.defineProperty called on non-object");Ra.HasProperty(c,"get")&&Object.prototype.__defineGetter__&&Object.prototype.__defineGetter__.call(a,
d,c.get);Ra.HasProperty(c,"set")&&Object.prototype.__defineSetter__&&Object.prototype.__defineSetter__.call(a,d,c.set);Ra.HasProperty(c,"value")&&(a[d]=c.value);return a});Object.getOwnPropertyNames||(Object.getOwnPropertyNames=function(a){if(a!==Object(a))throw new TypeError("Object.getOwnPropertyNames called on non-object");var d=[],c;for(c in a)Ra.HasOwnProperty(a,c)&&d.push(c);return d});(function(){function e(a,n,g){var p;p=function(a,e,f){var n,g,Va;if(arguments.length&&"number"!==typeof arguments[0])if("object"===
typeof arguments[0]&&arguments[0].constructor===p)for(n=arguments[0],this.length=n.length,this.byteLength=this.length*this.BYTES_PER_ELEMENT,this.buffer=new G(this.byteLength),g=this.byteOffset=0;g<this.length;g+=1)this._setter(g,n._getter(g));else if("object"!==typeof arguments[0]||arguments[0]instanceof G||"ArrayBuffer"===Ra.Class(arguments[0]))if("object"===typeof arguments[0]&&(arguments[0]instanceof G||"ArrayBuffer"===Ra.Class(arguments[0]))){this.buffer=a;this.byteOffset=Ra.ToUint32(e);if(this.byteOffset>
this.buffer.byteLength)throw new RangeError("byteOffset out of range");if(this.byteOffset%this.BYTES_PER_ELEMENT)throw new RangeError("ArrayBuffer length minus the byteOffset is not a multiple of the element size.");if(3>arguments.length){this.byteLength=this.buffer.byteLength-this.byteOffset;if(this.byteLength%this.BYTES_PER_ELEMENT)throw new RangeError("length of buffer minus byteOffset not a multiple of the element size");this.length=this.byteLength/this.BYTES_PER_ELEMENT}else this.length=Ra.ToUint32(f),
this.byteLength=this.length*this.BYTES_PER_ELEMENT;if(this.byteOffset+this.byteLength>this.buffer.byteLength)throw new RangeError("byteOffset and length reference an area beyond the end of the buffer");}else throw new TypeError("Unexpected argument type(s)");else for(n=arguments[0],this.length=Ra.ToUint32(n.length),this.byteLength=this.length*this.BYTES_PER_ELEMENT,this.buffer=new G(this.byteLength),g=this.byteOffset=0;g<this.length;g+=1)Va=n[g],this._setter(g,Number(Va));else{this.length=Ra.ToInt32(arguments[0]);
if(0>f)throw new RangeError("ArrayBufferView size is not a small enough positive integer.");this.byteLength=this.length*this.BYTES_PER_ELEMENT;this.buffer=new G(this.byteLength);this.byteOffset=0}this.constructor=p;d(this);c(this)};p.prototype=new f;p.prototype.BYTES_PER_ELEMENT=a;p.prototype._pack=n;p.prototype._unpack=g;p.BYTES_PER_ELEMENT=a;p.prototype._getter=function(a){if(1>arguments.length)throw new SyntaxError("Not enough arguments");a=Ra.ToUint32(a);if(a>=this.length)return ib;var d=[],c,
e;c=0;for(e=this.byteOffset+a*this.BYTES_PER_ELEMENT;c<this.BYTES_PER_ELEMENT;c+=1,e+=1)d.push(this.buffer._bytes[e]);return this._unpack(d)};p.prototype.get=p.prototype._getter;p.prototype._setter=function(a,d){if(2>arguments.length)throw new SyntaxError("Not enough arguments");a=Ra.ToUint32(a);if(a>=this.length)return ib;var c=this._pack(d),e,G;e=0;for(G=this.byteOffset+a*this.BYTES_PER_ELEMENT;e<this.BYTES_PER_ELEMENT;e+=1,G+=1)this.buffer._bytes[G]=c[e]};p.prototype.set=function(a,d){if(1>arguments.length)throw new SyntaxError("Not enough arguments");
var c,e,G,f,n,g;if("object"===typeof arguments[0]&&arguments[0].constructor===this.constructor){c=arguments[0];e=Ra.ToUint32(arguments[1]);if(e+c.length>this.length)throw new RangeError("Offset plus length of array is out of range");g=this.byteOffset+e*this.BYTES_PER_ELEMENT;e=c.length*this.BYTES_PER_ELEMENT;if(c.buffer===this.buffer){G=[];f=0;for(n=c.byteOffset;f<e;f+=1,n+=1)G[f]=c.buffer._bytes[n];for(f=0;f<e;f+=1,g+=1)this.buffer._bytes[g]=G[f]}else for(f=0,n=c.byteOffset;f<e;f+=1,n+=1,g+=1)this.buffer._bytes[g]=
c.buffer._bytes[n]}else if("object"===typeof arguments[0]&&"undefined"!==typeof arguments[0].length){c=arguments[0];G=Ra.ToUint32(c.length);e=Ra.ToUint32(arguments[1]);if(e+G>this.length)throw new RangeError("Offset plus length of array is out of range");for(f=0;f<G;f+=1)n=c[f],this._setter(e+f,Number(n))}else throw new TypeError("Unexpected argument type(s)");};p.prototype.subarray=function(a,d){a=Ra.ToInt32(a);d=Ra.ToInt32(d);1>arguments.length&&(a=0);2>arguments.length&&(d=this.length);0>a&&(a=
this.length+a);0>d&&(d=this.length+d);var c=this.length;a=0>a?0:a>c?c:a;c=this.length;c=(0>d?0:d>c?c:d)-a;0>c&&(c=0);return new this.constructor(this.buffer,this.byteOffset+a*this.BYTES_PER_ELEMENT,c)};return p}var G=function(a){a=Ra.ToInt32(a);if(0>a)throw new RangeError("ArrayBuffer size is not a small enough positive integer.");this.byteLength=a;this._bytes=[];this._bytes.length=a;for(a=0;a<this.byteLength;a+=1)this._bytes[a]=0;d(this)};a.ArrayBuffer=a.ArrayBuffer||G;var f=function(){},p=e(1,g,
n),Va=e(1,ma,Oa),gb=e(1,Na,Oa),Xa=e(2,Sa,bb),eb=e(2,$a,Ta),Pa=e(4,Ya,ab),Wa=e(4,db,Ua),hb=e(4,fb,cb),jb=e(8,Za,Qa);a.Int8Array=a.Int8Array||p;a.Uint8Array=a.Uint8Array||Va;a.Uint8ClampedArray=a.Uint8ClampedArray||gb;a.Int16Array=a.Int16Array||Xa;a.Uint16Array=a.Uint16Array||eb;a.Int32Array=a.Int32Array||Pa;a.Uint32Array=a.Uint32Array||Wa;a.Float32Array=a.Float32Array||hb;a.Float64Array=a.Float64Array||jb})();(function(){function c(a,d){return Ra.IsCallable(a.get)?a.get(d):a[d]}function e(a){return function(d,
e){d=Ra.ToUint32(d);if(d+a.BYTES_PER_ELEMENT>this.byteLength)throw new RangeError("Array index out of range");d+=this.byteOffset;var G=new Uint8Array(this.buffer,d,a.BYTES_PER_ELEMENT),n=[],g;for(g=0;g<a.BYTES_PER_ELEMENT;g+=1)n.push(c(G,g));Boolean(e)===Boolean(f)&&n.reverse();return c(new a((new Uint8Array(n)).buffer),0)}}function G(a){return function(d,e,G){d=Ra.ToUint32(d);if(d+a.BYTES_PER_ELEMENT>this.byteLength)throw new RangeError("Array index out of range");e=new a([e]);e=new Uint8Array(e.buffer);
var n=[],g;for(g=0;g<a.BYTES_PER_ELEMENT;g+=1)n.push(c(e,g));Boolean(G)===Boolean(f)&&n.reverse();(new Uint8Array(this.buffer,d,a.BYTES_PER_ELEMENT)).set(n)}}var f=function(){var a=new Uint16Array([4660]),a=new Uint8Array(a.buffer);return 18===c(a,0)}(),n=function(a,c,e){if(0===arguments.length)a=new ArrayBuffer(0);else if(!(a instanceof ArrayBuffer||"ArrayBuffer"===Ra.Class(a)))throw new TypeError("TypeError");this.buffer=a||new ArrayBuffer(0);this.byteOffset=Ra.ToUint32(c);if(this.byteOffset>this.buffer.byteLength)throw new RangeError("byteOffset out of range");
this.byteLength=3>arguments.length?this.buffer.byteLength-this.byteOffset:Ra.ToUint32(e);if(this.byteOffset+this.byteLength>this.buffer.byteLength)throw new RangeError("byteOffset and length reference an area beyond the end of the buffer");d(this)};n.prototype.getUint8=e(Uint8Array);n.prototype.getInt8=e(Int8Array);n.prototype.getUint16=e(Uint16Array);n.prototype.getInt16=e(Int16Array);n.prototype.getUint32=e(Uint32Array);n.prototype.getInt32=e(Int32Array);n.prototype.getFloat32=e(Float32Array);n.prototype.getFloat64=
e(Float64Array);n.prototype.setUint8=G(Uint8Array);n.prototype.setInt8=G(Int8Array);n.prototype.setUint16=G(Uint16Array);n.prototype.setInt16=G(Int16Array);n.prototype.setUint32=G(Uint32Array);n.prototype.setInt32=G(Int32Array);n.prototype.setFloat32=G(Float32Array);n.prototype.setFloat64=G(Float64Array);a.DataView=a.DataView||n})()})(this);window.localStorage&&window.sessionStorage||function(){var a=function(a){function c(a,d,c){var e;c?(e=new Date,e.setTime(e.getTime()+864E5*c),c="; expires="+e.toGMTString()):c="";document.cookie=a+"="+d+c+"; path=/"}function e(e){e=JSON.stringify(e);"session"==a?window.name=e:c("localStorage",e,365)}function f(){var a=0,d;for(d in g)g.hasOwnProperty(d)&&(a+=1);return a}var g=function(){var c;if("session"==a)c=window.name;else a:{c=document.cookie.split(";");var e,f;for(e=0;e<c.length;e++){for(f=c[e];" "==
f.charAt(0);)f=f.substring(1,f.length);if(0==f.indexOf("localStorage=")){c=f.substring(13,f.length);break a}}c=null}return c?JSON.parse(c):{}}();return{clear:function(){g={};"session"==a?window.name="":c("localStorage","",365);this.length=f()},getItem:function(a){a=encodeURIComponent(a);return void 0===g[a]?null:g[a]},key:function(a){var c=0,d;for(d in g){if(c==a)return decodeURIComponent(d);c++}return null},removeItem:function(a){a=encodeURIComponent(a);delete g[a];e(g);this.length=f()},setItem:function(a,
c){a=encodeURIComponent(a);g[a]=String(c);e(g);this.length=f()},length:0}};window.localStorage||(window.localStorage=new a("local"));window.sessionStorage||(window.sessionStorage=new a("session"))}();(function(){function a(){function a(c){var d=document.createElement("span"),e,f,g;switch(typeof c){case "undefined":e=String(c);f="gray";break;case "boolean":e=String(c);f="green";break;case "number":e=String(c);f="blue";break;case "string":e=c;break;default:if(c)if(g=Object.prototype.toString.call(c),"[object Array]"===g||"[object Object]"===g)try{e=JSON.stringify(c)}catch(n){e=g}else e=String(c);else e=String(c),f="gray"}d.appendChild(document.createTextNode(e));f&&(d.style.color=f);return d}function g(c,
g,n){function Na(a,d,e,f,g,n){if("%"!=d.charAt(0)||!c.length)return d;if("%"===n)return"%";a=c.shift();switch(n){case "s":return String(a);case "d":case "i":case "l":return n=String,a=Number(a),a=0>a?Math.ceil(a):Math.floor(a),n(a);case "f":return String(Number(a));default:case "o":try{return JSON.stringify(a)}catch(ma){return String(a)}}}if(c.length){var Oa=document.createElement("div");Oa.className="SHIMCONSOLE_"+g;Oa.style.whiteSpace="pre";n&&Oa.appendChild(document.createTextNode(n));"string"===
typeof c[0]&&(Oa.appendChild(document.createTextNode(c.shift().replace(e,Na))),Oa.appendChild(document.createTextNode(" ")));for(;c.length;)Oa.appendChild(a(c.shift())),Oa.appendChild(document.createTextNode(" "));for((Sa.length?Sa[Sa.length-1]:ma).appendChild(Oa);ma.children.length>d;)ma.removeChild(ma.firstChild);ma.scrollTop=ma.scrollHeight;ma.style.visibility="visible"}}function n(a){var c=[],d;for(d=0;d<a.length;d+=1)c[d]=a[d];return c}(function(){var a=document.createElement("style");(document.getElementsByTagName("HEAD")[0]||
document.documentElement).appendChild(a);"styleSheet"in a?a.styleSheet.cssText=c:a.appendChild(document.createTextNode(c))})();var ma,Oa={},Na={},Sa=[];ma=document.createElement("div");ma.id="SHIMCONSOLE";(document.body||document.documentElement).appendChild(ma);this.log=function(a){g(n(arguments),"LOG")};this.debug=function(a){g(n(arguments),"DEBUG")};this.info=function(a){g(n(arguments),"INFO")};this.warn=function(a){g(n(arguments),"WARN","Warning: ")};this.error=function(a){g(n(arguments),"ERROR",
"Error: ")};this.assert=function(a,c){if(!a){var d=n(arguments);d.shift();g(d,"ERROR","Assertion failed: ")}};this.count=function(a){a=a||"";"$"+a in Oa||(Oa["$"+a]=0);Oa["$"+a]+=1;g([a+": "+Oa["$"+a]],"INFO")};this.time=function(a){Na["$"+(a||"")]=Number(new Date)};this.timeEnd=function(a){a=a||"";"$"+a in Na&&(g([a+": "+(Number(new Date)-Na["$"+a])+"ms"],"INFO"),delete Na["$"+a])};this.group=function(a){g([">"+(a||"")],"INFO");a=document.createElement("div");a.className="SHIMCONSOLE_GROUP";(Sa.length?
Sa[Sa.length-1]:ma).appendChild(a);Sa.push(a)};this.groupEnd=function(){Sa.pop()};this.dirxml=this.dir=function(a){g([a],"INFO")};this.trace=function(){try{this.wont.work=0}catch(a){a.stack&&g([a.stack.replace(/^[^\n]*\n/,"Stack trace:\n")],"INFO")}};this.clear=function(){for(;ma.children.length;)ma.removeChild(ma.firstChild)}}var d=1E3,c="#SHIMCONSOLE { visibility: hidden; position: fixed; z-index: 9999; left: 0; right: 0; bottom: 0; height: 200px; border-top: solid 1px #808080; overflow: auto; word-wrap: break-word; padding: 5px; background-color: #eeeeee; color: #000000; font-family: monospace; font-size: 10pt; font-weight: normal; font-style: normal; }#SHIMCONSOLE .SHIMCONSOLE_GROUP { margin-left: 20px; }#SHIMCONSOLE .SHIMCONSOLE_ERROR { color: #ff0000; }#SHIMCONSOLE .SHIMCONSOLE_WARN { color: #ff8000; }",
e=/([^%]|%([\-+0]*)(\d+)?(\.\d+)?([%sdilfox]))/g;window.console=window.console||new a})();/*
 @version 1.2
 @url rainbowco.de
*/
window.Rainbow=function(){function a(a,c,d,e){var f=a.getAttribute&&a.getAttribute(c)||0;if(!f)for(d=a.attributes,e=0;e<d.length;++e)if(d[e].nodeName===c)return d[e].nodeValue;return f}function d(a,c){a.className+=a.className?" "+c:c}function c(c){var d=a(c,"data-language")||a(c.parentNode,"data-language");if(!d){var e=/\blang(?:uage)?-(\w+)/;(c=c.className.match(e)||c.parentNode.className.match(e))&&(d=c[1])}return d}function e(a,c){for(var d in Ya[Ua]){d=parseInt(d,10);var e;e=Ya[Ua][d];e=a==d&&
c==e?!1:a<=d&&c>=e;e&&(delete Ya[Ua][d],delete Ta[Ua][d]);e=Ya[Ua][d];e=a>=d&&a<e?!0:c>d&&c<e;if(e)return!0}return!1}function f(a,c){return'<span class="'+a.replace(/\./g," ")+(Za?" "+Za:"")+'">'+c+"</span>"}function g(a,c,d,p){if("undefined"===typeof a||null===a)return p();var Xa=a.exec(d);if(!Xa)return p();++Pa;c.name||"string"!=typeof c.matches[0]||(c.name=c.matches[0],delete c.matches[0]);var Na=Xa[0],G=Xa.index,Va=Xa[0].length+G,eb=function(){var e=function(){g(a,c,d,p)};return 0<Pa%100?e():
setTimeout(e,0)};if(e(G,Va))return eb();var Wa=ma(c.matches),Qa=function(a,d,e){if(a>=d.length)return e(Na);var G=Xa[d[a]];if(G){var g=c.matches[d[a]],p=g.language,Va=g.name&&g.matches?g.matches:g,ma=function(c,G,g){var p=0,Va;for(Va=1;Va<d[a];++Va)Xa[Va]&&(p+=Xa[Va].length);Na=n(p,c,g?f(g,G):G,Na);Qa(++a,d,e)};if(p)return Sa(G,p,function(a){ma(G,a)});if("string"===typeof g)return ma(G,G,g);Oa(G,Va.length?Va:[Va],function(a){ma(G,a,g.matches?g.name:0)})}else Qa(++a,d,e)};Qa(0,Wa,function(a){c.name&&
(a=f(c.name,a));Ta[Ua]||(Ta[Ua]={},Ya[Ua]={});Ta[Ua][G]={replace:Xa[0],"with":a};Ya[Ua][G]=Va;eb()})}function n(a,c,d,e){var f=e.substr(a);return e.substr(0,a)+f.replace(c,d)}function ma(a){var c=[],d;for(d in a)a.hasOwnProperty(d)&&c.push(d);return c.sort(function(a,c){return c-a})}function Oa(a,c,d){function e(c,f){if(f<c.length)return g(c[f].pattern,c[f],a,function(){e(c,++f)});Na(a,function(a){delete Ta[Ua];delete Ya[Ua];--Ua;d(a)})}++Ua;e(c,0)}function Na(a,c){function d(a,c,e,f){if(e<c.length){++Qa;
var g=c[e],p=Ta[Ua][g];a=n(g,p.replace,p["with"],a);g=function(){d(a,c,++e,f)};return 0<Qa%250?g():setTimeout(g,0)}f(a)}var e=ma(Ta[Ua]);d(a,e,0,c)}function Sa(a,c,d){var e=ab[c]||[],f=ab[p]||[];c=db[c]?e:e.concat(f);Oa(a.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/&(?![\w\#]+;)/g,"&amp;"),c,d)}function bb(a,e,f){if(e<a.length){var g=a[e],n=c(g);return-1<(" "+g.className+" ").indexOf(" rainbow ")||!n?bb(a,++e,f):(n=n.toLowerCase(),d(g,"rainbow"),Sa(g.innerHTML,n,function(c){g.innerHTML=c;Ta=
{};Ya={};cb&&cb(g,n);setTimeout(function(){bb(a,++e,f)},0)}))}f&&f()}function $a(a,c){a=a&&"function"==typeof a.getElementsByTagName?a:document;var d=a.getElementsByTagName("pre"),e=a.getElementsByTagName("code"),f,g=[],G=[];for(f=0;f<d.length;++f)d[f].getElementsByTagName("code").length?d[f].innerHTML=d[f].innerHTML.replace(/^\s+/,"").replace(/\s+$/,""):g.push(d[f]);for(f=0;f<e.length;++f)G.push(e[f]);bb(G.concat(g),0,c)}var Ta={},Ya={},ab={},db={},Ua=0,p=0,Pa=0,Qa=0,Za,cb;return{extend:function(a,
c,d){1==arguments.length&&(c=a,a=p);db[a]=d;ab[a]=c.concat(ab[a]||[])},onHighlight:function(a){cb=a},addClass:function(a){Za=a},color:function(a,c,d){if("string"==typeof a)return Sa(a,c,d);if("function"==typeof a)return $a(0,a);$a(a,c)}}}();(function(){if(document.addEventListener)return document.addEventListener("DOMContentLoaded",Rainbow.color,!1);window.attachEvent("onload",Rainbow.color)})();Rainbow.onHighlight=Rainbow.onHighlight;Rainbow.addClass=Rainbow.addClass;Rainbow.extend("c",[{name:"meta.preprocessor",matches:{1:[{matches:{1:"keyword.define",2:"entity.name"},pattern:/(\w+)\s(\w+)\b/g},{name:"keyword.define",pattern:/endif/g},{name:"constant.numeric",pattern:/\d+/g},{matches:{1:"keyword.include",2:"string"},pattern:/(include)\s(.*?)$/g}]},pattern:/\#([\S\s]*?)$/gm},{name:"keyword",pattern:/\b(do|goto|typedef)\b/g},{name:"entity.label",pattern:/\w+:/g},{matches:{1:"storage.type",3:"storage.type",4:"entity.name.function"},pattern:/\b((un)?signed|const)? ?(void|char|short|int|long|float|double)\*? +((\w+)(?= ?\())?/g},
{matches:{2:"entity.name.function"},pattern:/(\w|\*) +((\w+)(?= ?\())/g},{name:"storage.modifier",pattern:/\b(static|extern|auto|register|volatile|inline)\b/g},{name:"support.type",pattern:/\b(struct|union|enum)\b/g}]);Rainbow.extend([{matches:{1:[{name:"keyword.operator",pattern:/\=|\+/g},{name:"keyword.dot",pattern:/\./g}],2:{name:"string",matches:{name:"constant.character.escape",pattern:/\\('|"){1}/g}}},pattern:/(\(|\s|\[|\=|:|\+|\.)(('|")([^\\\1]|\\.)*?(\3))/gm},{name:"comment",pattern:/\/\*[\s\S]*?\*\/|(\/\/|\#)[\s\S]*?$/gm},{name:"constant.numeric",pattern:/\b(\d+(\.\d+)?(e(\+|\-)?\d+)?(f|d)?|0x[\da-f]+)\b/gi},{matches:{1:"keyword"},pattern:/\b(and|array|as|b(ool(ean)?|reak)|c(ase|atch|har|lass|on(st|tinue))|d(ef|elete|o(uble)?)|e(cho|lse(if)?|xit|xtends|xcept)|f(inally|loat|or(each)?|unction)|global|if|import|int(eger)?|long|new|object|or|pr(int|ivate|otected)|public|return|self|st(ring|ruct|atic)|switch|th(en|is|row)|try|(un)?signed|var|void|while)(?=\(|\b)/gi},
{name:"constant.language",pattern:/true|false|null/g},{name:"keyword.operator",pattern:/\+|\!|\-|&(gt|lt|amp);|\||\*|\=/g},{matches:{1:"function.call"},pattern:/(\w+?)(?=\()/g},{matches:{1:"storage.function",2:"entity.name.function"},pattern:/(function)\s(.*?)(?=\()/g}]);var b=!0,h=null,i=!1,j;j||(j=eval("(function() { try { return eminorv2 || {} } catch(e) { return {} } })()"));var k={},l;for(l in j)j.hasOwnProperty(l)&&(k[l]=j[l]);var aa="object"===typeof process&&"function"===typeof require,m="object"===typeof window,q="function"===typeof importScripts,ba=!m&&!aa&&!q;
if(aa){j.print=function(a){process.stdout.write(a+"\n")};j.printErr=function(a){process.stderr.write(a+"\n")};var ca=require("fs"),da=require("path");j.read=function(a,d){a=da.normalize(a);var c=ca.readFileSync(a);!c&&a!=da.resolve(a)&&(a=path.join(__dirname,"..","src",a),c=ca.readFileSync(a));c&&!d&&(c=c.toString());return c};j.readBinary=function(a){return j.read(a,b)};j.load=function(a){ea(read(a))};j.arguments=process.argv.slice(2);module.m=j}else if(ba)j.print=print,"undefined"!=typeof printErr&&
(j.printErr=printErr),j.read="undefined"!=typeof read?read:function(){throw"no read() available (jsc?)";},j.readBinary=function(a){return read(a,"binary")},"undefined"!=typeof scriptArgs?j.arguments=scriptArgs:"undefined"!=typeof arguments&&(j.arguments=arguments),this.eminorv2=j;else if(m||q)j.read=function(a){var d=new XMLHttpRequest;d.open("GET",a,i);d.send(h);return d.responseText},"undefined"!=typeof arguments&&(j.arguments=arguments),m?(j.print=function(a){console.log(a)},j.printErr=function(a){console.log(a)},
this.eminorv2=j):q&&(j.print=function(){},j.load=importScripts);else throw"Unknown runtime environment. Where are we?";function ea(a){eval.call(h,a)}"undefined"==!j.load&&j.read&&(j.load=function(a){ea(j.read(a))});j.print||(j.print=function(){});j.printErr||(j.printErr=j.print);j.arguments||(j.arguments=[]);j.print=j.print;j.a=j.printErr;j.preRun=[];j.postRun=[];for(l in k)k.hasOwnProperty(l)&&(j[l]=k[l]);function r(){return s}function fa(a){s=a}
function ga(a,d,c){c&&c.length?(c.splice||(c=Array.prototype.slice.call(c)),c.splice(0,0,d),j["dynCall_"+a].apply(h,c)):j["dynCall_"+a].call(h,d)}
function ha(){var a=[],d=0;this.d=function(c){c&=255;if(0==a.length){if(0==(c&128))return String.fromCharCode(c);a.push(c);d=192==(c&224)?1:224==(c&240)?2:3;return""}if(d&&(a.push(c),d--,0<d))return"";c=a[0];var e=a[1],f=a[2],g=a[3];2==a.length?c=String.fromCharCode((c&31)<<6|e&63):3==a.length?c=String.fromCharCode((c&15)<<12|(e&63)<<6|f&63):(c=(c&7)<<18|(e&63)<<12|(f&63)<<6|g&63,c=String.fromCharCode(Math.floor((c-65536)/1024)+55296,(c-65536)%1024+56320));a.length=0;return c};this.e=function(a){a=
unescape(encodeURIComponent(a));for(var d=[],f=0;f<a.length;f++)d.push(a.charCodeAt(f));return d}}function t(a){var d=s;s=s+a|0;s=s+7>>3<<3;return d}function ia(a){var d=u;u=u+a|0;u=u+7>>3<<3;return d}function ja(a){var d=v;v=v+a|0;v=v+7>>3<<3;v>=w&&x("Cannot enlarge memory arrays in asm.js. Either (1) compile with -s TOTAL_MEMORY=X with X higher than the current value, or (2) set Module.TOTAL_MEMORY before the program runs.");return d}function y(a,d){return Math.ceil(a/(d?d:8))*(d?d:8)}
var ka=4,la={},z=i,A;function B(a,d){a||x("Assertion failed: "+d)}j.ccall=function(a,d,c,e){return na(oa(a),d,c,e)};function oa(a){try{var d=j["_"+a];d||(d=eval("_"+a))}catch(c){}B(d,"Cannot call unknown function "+a+" (perhaps LLVM optimizations or closure removed it?)");return d}
function na(a,d,c,e){var f=0,g=0;e=e?e.map(function(a){var d=c[g++];if("string"==d)if(a===h||void 0===a||0===a)a=0;else{f||(f=r());var e=t(a.length+1);pa(a,e);a=e}else a="array"==d?(f||(f=r()),e=t(a.length),qa(a,e),e):a;return a}):[];a=a.apply(h,e);"string"==d?d=C(a):(B("array"!=d),d=a);f&&fa(f);return d}j.cwrap=function(a,d,c){var e=oa(a);return function(){return na(e,d,c,Array.prototype.slice.call(arguments))}};
function ra(a,d,c){c=c||"i8";"*"===c.charAt(c.length-1)&&(c="i32");switch(c){case "i1":D[a]=d;break;case "i8":D[a]=d;break;case "i16":E[a>>1]=d;break;case "i32":F[a>>2]=d;break;case "i64":A=[d>>>0,(tempDouble=d,1<=+Math.abs(tempDouble)?0<tempDouble?(Math.min(+Math.floor(tempDouble/4294967296),4294967295)|0)>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)];F[a>>2]=A[0];F[a+4>>2]=A[1];break;case "float":H[a>>2]=d;break;case "double":I[a>>3]=d;break;default:x("invalid type for setValue: "+
c)}}j.setValue=ra;j.getValue=function(a,d){d=d||"i8";"*"===d.charAt(d.length-1)&&(d="i32");switch(d){case "i1":return D[a];case "i8":return D[a];case "i16":return E[a>>1];case "i32":return F[a>>2];case "i64":return F[a>>2];case "float":return H[a>>2];case "double":return I[a>>3];default:x("invalid type for setValue: "+d)}return h};var J=2,K=4;j.ALLOC_NORMAL=0;j.ALLOC_STACK=1;j.ALLOC_STATIC=J;j.ALLOC_DYNAMIC=3;j.ALLOC_NONE=K;
function L(a,d,c,e){var f,g;"number"===typeof a?(f=b,g=a):(f=i,g=a.length);var n="string"===typeof d?d:h;c=c==K?e:[sa,t,ia,ja][void 0===c?J:c](Math.max(g,n?1:d.length));if(f){e=c;B(0==(c&3));for(a=c+(g&-4);e<a;e+=4)F[e>>2]=0;for(a=c+g;e<a;)D[e++|0]=0;return c}if("i8"===n)return a.subarray||a.slice?M.set(a,c):M.set(new Uint8Array(a),c),c;e=0;for(var ma,Oa;e<g;){var Na=a[e];"function"===typeof Na&&(Na=la.n(Na));f=n||d[e];0===f?e++:("i64"==f&&(f="i32"),ra(c+e,Na,f),Oa!==f&&(1==ka?ma=1:(ma={"%i1":1,"%i8":1,
"%i16":2,"%i32":4,"%i64":8,"%float":4,"%double":8}["%"+f],ma||("*"==f.charAt(f.length-1)?ma=ka:"i"==f[0]&&(ma=parseInt(f.substr(1)),B(0==ma%8),ma/=8))),Oa=f),e+=ma)}return c}j.allocate=L;function C(a,d){for(var c=i,e,f=0;;){e=M[a+f|0];if(128<=e)c=b;else if(0==e&&!d)break;f++;if(d&&f==d)break}d||(d=f);var g="";if(!c){for(;0<d;)e=String.fromCharCode.apply(String,M.subarray(a,a+Math.min(d,1024))),g=g?g+e:e,a+=1024,d-=1024;return g}c=new ha;for(f=0;f<d;f++)e=M[a+f|0],g+=c.d(e);return g}
j.Pointer_stringify=C;var D,M,E,ta,F,ua,H,I,va=0,u=0,wa=0,s=0,N=0,xa=0,v=0,w=j.TOTAL_MEMORY||2048;B(!!Int32Array&&!!Float64Array&&!!(new Int32Array(1)).subarray&&!!(new Int32Array(1)).set,"Cannot fallback to non-typed array case: Code is too specialized");var O=new ArrayBuffer(w);D=new Int8Array(O);E=new Int16Array(O);F=new Int32Array(O);M=new Uint8Array(O);ta=new Uint16Array(O);ua=new Uint32Array(O);H=new Float32Array(O);I=new Float64Array(O);F[0]=255;B(255===M[0]&&0===M[3],"Typed arrays 2 must be run on a little-endian system");
j.HEAP=void 0;j.HEAP8=D;j.HEAP16=E;j.HEAP32=F;j.HEAPU8=M;j.HEAPU16=ta;j.HEAPU32=ua;j.HEAPF32=H;j.HEAPF64=I;function P(a){for(;0<a.length;){var d=a.shift();if("function"==typeof d)d();else{var c=d.c;"number"===typeof c?void 0===d.b?ga("v",c):ga("vi",c,[d.b]):c(void 0===d.b?h:d.b)}}}var Q=[],R=[],ya=[],za=[],Aa=[],S=i;function Ba(a){Q.unshift(a)}j.addOnPreRun=j.j=Ba;j.addOnInit=j.g=function(a){R.unshift(a)};j.addOnPreMain=j.i=function(a){ya.unshift(a)};j.addOnExit=j.f=function(a){za.unshift(a)};
function Ca(a){Aa.unshift(a)}j.addOnPostRun=j.h=Ca;function T(a,d,c){a=(new ha).e(a);c&&(a.length=c);d||a.push(0);return a}j.intArrayFromString=T;j.intArrayToString=function(a){for(var d=[],c=0;c<a.length;c++){var e=a[c];255<e&&(e&=255);d.push(String.fromCharCode(e))}return d.join("")};function pa(a,d,c){a=T(a,c);for(c=0;c<a.length;)D[d+c|0]=a[c],c+=1}j.writeStringToMemory=pa;function qa(a,d){for(var c=0;c<a.length;c++)D[d+c|0]=a[c]}j.writeArrayToMemory=qa;
Math.imul||(Math.imul=function(a,d){var c=a&65535,e=d&65535;return c*e+((a>>>16)*e+c*(d>>>16)<<16)|0});Math.o=Math.imul;var U=0,V={},Da=i,W=h;j.addRunDependency=function(a){U++;j.monitorRunDependencies&&j.monitorRunDependencies(U);a?(B(!V[a]),V[a]=1):j.a("warning: run dependency added without ID")};
j.removeRunDependency=function(a){U--;j.monitorRunDependencies&&j.monitorRunDependencies(U);a?(B(V[a]),delete V[a]):j.a("warning: run dependency removed without ID");0==U&&(W!==h&&(clearInterval(W),W=h),!Da&&X&&Y())};j.preloadedImages={};j.preloadedAudios={};va=8;u=va+200;R.push({c:function(){Ea()}});
L([60,0,0,0,0,0,0,0,30,0,0,0,0,0,0,0,84,85,86,87,88,89,90,91,112,32,60,32,54,0,0,0,105,100,120,32,60,32,54,0,46,46,47,99,111,109,109,111,110,47,99,111,110,116,114,111,108,108,101,114,45,115,105,109,112,108,101,46,99,0,0,0,115,101,116,95,114,106,109,95,99,104,97,110,110,101,108,0,103,109,97,106,95,116,111,103,103,108,101,95,99,99,0,0],"i8",K,8);var Fa=y(L(12,"i8",J),8);B(0==Fa%8);j._memcpy=Ga;j._memset=Ha;function sa(a){return ja(a+8)+8&4294967288}j._strlen=Ia;wa=s=y(u);N=wa+192;xa=v=y(N);B(xa<w);
var Ja=Math.min,Z=function(a,d,c){function e(a){a|=0;var c=0;if((p[196]&a)<<24>>24!=a<<24>>24)return 0;c=0==(p[188]&a)<<24>>24|0;return c|0}function f(a){a|=0;var c=0;if((p[188]&a)<<24>>24!=a<<24>>24)return 0;c=0==(p[196]&a)<<24>>24|0;return c|0}function g(a){a|=0;var c=0;if((p[192]&a)<<24>>24!=a<<24>>24)return 0;c=0==(p[184]&a)<<24>>24|0;return c|0}function n(){_flash_load((Qa[176]|0)<<3,8,200);p[200]&=-65;p[201]&=-65;p[202]|=64;p[203]|=64;p[204]|=64;p[205]|=64}function ma(){_led_set((Qa[172]|0)<<
8|Qa[168]|0)}function Oa(){var a=0,a=Pa[43]|0;0!=(a&64|0)&&(Pa[43]=a&-65,Na(81,0),ma())}function Na(a,c){_midi_send_cmd2(11,0,a|0,c|0)}function Sa(){var a=0;_midi_send_cmd1(12,0,p[152]|0);a=p[152]|0;p[176]=a;p[160]=a;n();bb();ma()}function bb(){var a=0,c=0,a=p[200+(Qa[144]|0)|0]|0,c=a&255;p[172]=p[172]&-64|a&63;0!=(c&64|0)&&Na(90,127);0!=(c&16|0)&&Na(88,127);0!=(c&32|0)&&Na(89,127);0!=(c&4|0)&&Na(86,127);0!=(c&2|0)&&Na(85,127);0!=(c&8|0)&&Na(87,127);0!=(c&1|0)&&Na(84,127);0!=(c&128|0)&&Na(91,127)}
function $a(a){a|=0;6>(a&255)?(p[144]=a,_midi_send_cmd1(12,1,a+4&255),_midi_send_cmd1(12,0,p[176]|0),p[160]=p[176]|0,bb(),p[168]=(p[168]&192|1<<(a&255))&255,ma()):ib(48,211,80,32)}function Ta(a){a|=0;var c=0,d=0,c=a&255;6>(a&255)?(a=1<<c,d=200+(Qa[144]|0)|0,p[d]=((Qa[d]|0)^a)&255,Na(p[24+c|0]|0,0==(a&(Qa[200+(Qa[144]|0)|0]|0)|0)?0:127),p[172]=p[172]&-64|p[200+(Qa[144]|0)|0]&63,ma()):ib(48,148,96,40)}function Ya(a){fb(0);return 0}function ab(){fb(1)}function db(a,c){fb(2);return 0}function Ua(a){fb(3)}
"use asm";var p=new a.Int8Array(c);new a.Int16Array(c);var Pa=new a.Int32Array(c),Qa=new a.Uint8Array(c);new a.Uint16Array(c);new a.Uint32Array(c);new a.Float32Array(c);new a.Float64Array(c);var Za=d.STACKTOP|0,cb=0,fb=d.abort,ib=d.___assert_func,gb=[Ya,Ya],Ra=[ab,ab],Xa=[db,db],hb=[Ua,Ua];return{_strlen:function(a){a|=0;for(var c=0,c=a;p[c]|0;)c=c+1|0;return c-a|0},_controller_handle:function(){var a=0,c=a=0,d=c=a=c=a=c=a=a=0,a=_fsw_poll()|0;p[192]=a&255;p[196]=(a&65535)>>>8&255;0==(e(1)|0)<<24>>
24?(a=0!=(f(1)|0)<<24>>24,a&30<(Qa[128]|0)&&(p[128]=0,Ta(0))):(Ta(0),p[128]=1);0==(e(2)|0)<<24>>24?(a=0!=(f(2)|0)<<24>>24,a&30<(Qa[128]|0)&&(p[128]=0,Ta(1))):(Ta(1),p[128]=1);0==(e(4)|0)<<24>>24?(a=0!=(f(4)|0)<<24>>24,a&30<(Qa[128]|0)&&(p[128]=0,Ta(2))):(Ta(2),p[128]=1);0==(e(8)|0)<<24>>24?(a=0!=(f(8)|0)<<24>>24,a&30<(Qa[128]|0)&&(p[128]=0,Ta(3))):(Ta(3),p[128]=1);0==(e(16)|0)<<24>>24?(a=0!=(f(16)|0)<<24>>24,a&30<(Qa[128]|0)&&(p[128]=0,Ta(4))):(Ta(4),p[128]=1);0==(e(32)|0)<<24>>24?(a=0!=(f(32)|0)<<
24>>24,a&30<(Qa[128]|0)&&(p[128]=0,Ta(5))):(Ta(5),p[128]=1);0!=(g(1)|0)<<24>>24&&($a(0),Oa());0!=(g(2)|0)<<24>>24&&($a(1),Oa());0!=(g(4)|0)<<24>>24&&($a(2),Oa());0!=(g(8)|0)<<24>>24&&($a(3),Oa());0!=(g(16)|0)<<24>>24&&($a(4),Oa());0!=(g(32)|0)<<24>>24&&($a(5),Oa());0!=(e(64)|0)<<24>>24&&(p[172]^=64,Na(81,0!=(Pa[43]&64|0)?127:0));0==(g(64)|0)<<24>>24?59>=(Qa[120]|0)||0==(Pa[48]&64|0)||(_flash_store((Qa[176]|0)<<3,8,200),p[136]=80,p[120]=0):(a=p[112]&127^127,p[112]=a,Na(80,a),p[120]=1);Pa[42]=Pa[42]&
-65|Pa[48]&64;0!=(e(-128)|0)<<24>>24&&(a=p[152]|0,0!=a<<24>>24&&(p[152]=a-1&255),Sa());0!=(g(-128)|0)<<24>>24&&(a=p[152]|0,127!=a<<24>>24&&(p[152]=a+1&255),Sa());a=Pa[49]|0;c=Pa[43]|0;a=c&-129|a&128;Pa[43]=a;a=Pa[48]|0;c=Pa[42]|0;a=c&-129|a&128;Pa[42]=a;ma();c=192;a=Pa[(c|0)>>2]|0;c=Pa[(c+4|0)>>2]|0;d=184;Pa[(d|0)>>2]=a;Pa[(d+4|0)>>2]=c},_controller_init:function(){p[172]=0;p[168]=0;p[120]=0;p[136]=0;p[144]=0;p[176]=0;p[152]=0;p[160]=0;p[200]=0;p[201]=16;p[202]=0;p[203]=16;p[204]=0;p[205]=16;p[206]=
0;p[207]=0;n();$a(0)},_memset:function(a,c,d){a|=0;c|=0;d|=0;var e=0,f=0,g=0,e=a+d|0;if(20<=(d|0)){c&=255;d=a&3;f=c|c<<8|c<<16|c<<24;g=e&-4;if(d)for(d=a+4-d|0;(a|0)<(d|0);)p[a]=c,a=a+1|0;for(;(a|0)<(g|0);)Pa[a>>2]=f,a=a+4|0}for(;(a|0)<(e|0);)p[a]=c,a=a+1|0},_memcpy:function(a,c,d){a|=0;c|=0;d|=0;var e=0,e=a|0;if((a&3)==(c&3)){for(;a&3;){if(0==(d|0))return e|0;p[a]=p[c]|0;a=a+1|0;c=c+1|0;d=d-1|0}for(;4<=(d|0);)Pa[a>>2]=Pa[c>>2],a=a+4|0,c=c+4|0,d=d-4|0}for(;0<(d|0);)p[a]=p[c]|0,a=a+1|0,c=c+1|0,d=d-
1|0;return e|0},_controller_10msec_timer:function(){var a=0,c=a=0,d=0,c=0;0!=(Pa[48]&64|0)&&(a=p[120]|0,0!=a<<24>>24&&(p[120]=a+1&255));a=p[128]|0;0!=a<<24>>24&&(a=a+1&255,p[128]=a,30>=(a&255)||(c=p[200+(Qa[144]|0)|0]|0,d=p[196]|0,c=6<(a&15)>>>0?p[172]&-64|c&63&(d^63):p[172]&-64|(d|c)&63,p[172]=c,ma()));c=p[136]|0;0!=c<<24>>24&&(a=c-1&255,p[136]=a,0==a<<24>>24?p[172]=p[172]&-64|p[200+(Qa[144]|0)|0]&63:(c=p[172]|0,p[172]=6<(a&15)>>>0?c|63:c&-64),ma())},runPostSets:function(){},stackAlloc:function(a){var c=
0,c=Za;Za=Za+(a|0)|0;Za=Za+7>>3<<3;return c|0},stackSave:function(){return Za|0},stackRestore:function(a){Za=a|0},setThrew:function(a,c){0==(cb|0)&&(cb=a|0)},setTempRet0:function(a){},setTempRet1:function(a){},setTempRet2:function(a){},setTempRet3:function(a){},setTempRet4:function(a){},setTempRet5:function(a){},setTempRet6:function(a){},setTempRet7:function(a){},setTempRet8:function(a){},setTempRet9:function(a){},dynCall_ii:function(a,c){return gb[(a|0)&1](c|0)|0},dynCall_v:function(a){Ra[(a|0)&
1]()},dynCall_iii:function(a,c,d){return Xa[(a|0)&1](c|0,d|0)|0},dynCall_vi:function(a,c){hb[(a|0)&1](c|0)}}}({Math:Math,Int8Array:Int8Array,Int16Array:Int16Array,Int32Array:Int32Array,Uint8Array:Uint8Array,Uint16Array:Uint16Array,Uint32Array:Uint32Array,Float32Array:Float32Array,Float64Array:Float64Array},{abort:x,assert:B,asmPrintInt:function(a,d){j.print("int "+a+","+d)},asmPrintFloat:function(a,d){j.print("float "+a+","+d)},min:Ja,invoke_ii:function(a,d){try{return j.dynCall_ii(a,d)}catch(c){if("number"!==
typeof c&&"longjmp"!==c)throw c;Z.setThrew(1,0)}},invoke_v:function(a){try{j.dynCall_v(a)}catch(d){if("number"!==typeof d&&"longjmp"!==d)throw d;Z.setThrew(1,0)}},invoke_iii:function(a,d,c){try{return j.dynCall_iii(a,d,c)}catch(e){if("number"!==typeof e&&"longjmp"!==e)throw e;Z.setThrew(1,0)}},invoke_vi:function(a,d){try{j.dynCall_vi(a,d)}catch(c){if("number"!==typeof c&&"longjmp"!==c)throw c;Z.setThrew(1,0)}},_malloc:sa,___assert_func:function(a,d,c,e){throw"Assertion failed: "+(e?C(e):"unknown condition")+
", at: "+[a?C(a):"unknown filename",d,c?C(c):"unknown function"]+" at "+Error().stack;},_free:function(){},STACKTOP:s,STACK_MAX:N,tempDoublePtr:Fa,ABORT:z,NaN:NaN,Infinity:Infinity},O),Ia=j._strlen=Z._strlen;j._controller_handle=Z._controller_handle;j._controller_init=Z._controller_init;var Ha=j._memset=Z._memset,Ga=j._memcpy=Z._memcpy;j._controller_10msec_timer=Z._controller_10msec_timer;var Ea=j.runPostSets=Z.runPostSets;j.dynCall_ii=Z.dynCall_ii;j.dynCall_v=Z.dynCall_v;j.dynCall_iii=Z.dynCall_iii;
j.dynCall_vi=Z.dynCall_vi;t=function(a){return Z.stackAlloc(a)};r=function(){return Z.stackSave()};fa=function(a){Z.stackRestore(a)};function Ka(a){this.name="ExitStatus";this.message="Program terminated with exit("+a+")";this.status=a}Ka.prototype=Error();var La,$=h;
j.callMain=j.k=function(a){function d(){for(var a=0;3>a;a++)e.push(0)}B(0==U,"cannot call main when async dependencies remain! (listen on __ATMAIN__)");B(0==Q.length,"cannot call main when preRun functions remain to be called");a=a||[];m&&$!==h&&j.a("preload time: "+(Date.now()-$)+" ms");S||(S=b,P(R));var c=a.length+1,e=[L(T("/bin/this.program"),"i8",0)];d();for(var f=0;f<c-1;f+=1)e.push(L(T(a[f]),"i8",0)),d();e.push(0);e=L(e,"i32",0);La=s;try{var g=j._main(c,e,0);j.noExitRuntime||Ma(g)}catch(n){if(!(n instanceof
Ka))if("SimulateInfiniteLoop"==n)j.noExitRuntime=b;else throw n;}};
function Y(a){function d(){S||(S=b,P(R));P(ya);Da=b;j._main&&X&&j.callMain(a);if(j.postRun)for("function"==typeof j.postRun&&(j.postRun=[j.postRun]);j.postRun.length;)Ca(j.postRun.shift());P(Aa)}a=a||j.arguments;$===h&&($=Date.now());if(0<U)j.a("run() called, but dependencies remain, so not running");else{if(j.preRun)for("function"==typeof j.preRun&&(j.preRun=[j.preRun]);j.preRun.length;)Ba(j.preRun.shift());P(Q);0<U||(j.setStatus?(j.setStatus("Running..."),setTimeout(function(){setTimeout(function(){j.setStatus("")},
1);z||d()},1)):d())}}j.run=j.p=Y;function Ma(a){z=b;s=La;P(za);throw new Ka(a);}j.exit=j.l=Ma;function x(a){a&&(j.print(a),j.a(a));z=b;throw"abort() at "+Error().stack;}j.abort=j.abort=x;if(j.preInit)for("function"==typeof j.preInit&&(j.preInit=[j.preInit]);0<j.preInit.length;)j.preInit.pop()();var X=b;j.noInitialRun&&(X=i);Y();var ui_modified=!1,fsw_state=0,led_state_top=0,led_state_bot=0,midiLog,midiLogHeight=240,cvs,ctx,dpi=42,labels=["CH1 CH1S CH2 CH2S CH3 CH3S TAP/STORE NEXT".split(" "),"COMP FILTER PITCH CHORUS DELAY REVERB MUTE PREV".split(" ")],keylabels=["ASDFGHJK".split(""),"QWERTYUI".split("")],inWidth=20,inHeight=7,vStart=5.65,hLeft=1,hSpacing=2.57,vSpacing=3.15,inLEDOuterDiam=0.08*2.54,inFswOuterDiam=0.30988,inFswInnerDiam=0.254;function dpi_MoveTo(a,d){ctx.moveTo(a*dpi,d*dpi)}
function dpi_LineTo(a,d){ctx.lineTo(a*dpi,d*dpi)}function dpi_CenterCircle(a,d,c){ctx.arc(a*dpi,d*dpi,c*dpi,0,2*Math.PI)}function dpi_FillAndStrokeCircle(a,d,c){ctx.beginPath();ctx.arc(a*dpi,d*dpi,c*dpi,0,2*Math.PI);ctx.fill();ctx.beginPath();ctx.arc(a*dpi,d*dpi,c*dpi,0,2*Math.PI);ctx.stroke()}function dpi_TextOut(a,d,c){ctx.fillText(c,a*dpi,d*dpi)}
function renderUI(){ctx.save();ctx.clearRect(0,0,cvs.width,cvs.height);ctx.fillStyle="#000";ctx.fillRect(0,0,cvs.width,cvs.height);ctx.strokeStyle="#808080";ctx.strokeRect(0,0,cvs.width,cvs.height);var a,d;ctx.textAlign="center";ctx.textBaseline="top";ctx.font="10pt Arial Bold";for(d=0;2>d;++d){var c=0==d?led_state_bot:led_state_top,e=1<<8*d;for(a=0;8>a;++a,e<<=1)ctx.lineWidth=2,ctx.strokeStyle="#808080",ctx.fillStyle="#C0C0C0",dpi_FillAndStrokeCircle(hLeft+a*hSpacing,vStart-d*vSpacing,inFswOuterDiam),
ctx.lineWidth=1,dpi_FillAndStrokeCircle(hLeft+a*hSpacing,vStart-d*vSpacing,inFswInnerDiam),fsw_state&e&&(ctx.fillStyle="#606060",dpi_FillAndStrokeCircle(hLeft+a*hSpacing,vStart-d*vSpacing,inFswOuterDiam)),ctx.fillStyle=0==d&&6>a?"#4040C0":1==d&&6>a?"#40C040":"#E0E0E0",ctx.lineWidth=1,dpi_TextOut(hLeft+a*hSpacing,vStart+0.5-d*vSpacing,labels[d][a]),ctx.fillStyle="#601010",dpi_TextOut(hLeft+a*hSpacing,vStart+0.75-d*vSpacing,keylabels[d][a]);ctx.lineWidth=3;ctx.strokeStyle="#202020";ctx.fillStyle="#081E03";
e=1;for(a=0;8>a;++a,e<<=1)0==(c&e)&&dpi_FillAndStrokeCircle(hLeft+a*hSpacing,vStart-0.7-d*vSpacing,inLEDOuterDiam);ctx.fillStyle="#19FA05";e=1;for(a=0;8>a;++a,e<<=1)c&e&&dpi_FillAndStrokeCircle(hLeft+a*hSpacing,vStart-0.7-d*vSpacing,inLEDOuterDiam)}ctx.restore()}
function keydown(a){if(a.ctrlKey||a.altKey||a.shiftKey||a.metaKey)return!1;if(65==a.keyCode)fsw_state|=1;else if(83==a.keyCode)fsw_state|=2;else if(68==a.keyCode)fsw_state|=4;else if(70==a.keyCode)fsw_state|=8;else if(71==a.keyCode)fsw_state|=16;else if(72==a.keyCode)fsw_state|=32;else if(74==a.keyCode)fsw_state|=64;else if(75==a.keyCode)fsw_state|=128;else if(81==a.keyCode)fsw_state|=256;else if(87==a.keyCode)fsw_state|=512;else if(69==a.keyCode)fsw_state|=1024;else if(82==a.keyCode)fsw_state|=2048;
else if(84==a.keyCode)fsw_state|=4096;else if(89==a.keyCode)fsw_state|=8192;else if(85==a.keyCode)fsw_state|=16384;else if(73==a.keyCode)fsw_state|=32768;else return!0;ui_modified=!0;a.preventDefault();return!1}
function keyup(a){if(a.ctrlKey||a.altKey||a.shiftKey||a.metaKey)return!1;if(65==a.keyCode)fsw_state&=65534;else if(83==a.keyCode)fsw_state&=65533;else if(68==a.keyCode)fsw_state&=65531;else if(70==a.keyCode)fsw_state&=65527;else if(71==a.keyCode)fsw_state&=65519;else if(72==a.keyCode)fsw_state&=65503;else if(74==a.keyCode)fsw_state&=65471;else if(75==a.keyCode)fsw_state&=65407;else if(81==a.keyCode)fsw_state&=65279;else if(87==a.keyCode)fsw_state&=65023;else if(69==a.keyCode)fsw_state&=64511;else if(82==
a.keyCode)fsw_state&=63487;else if(84==a.keyCode)fsw_state&=61439;else if(89==a.keyCode)fsw_state&=57343;else if(85==a.keyCode)fsw_state&=49151;else if(73==a.keyCode)fsw_state&=32767;else return!0;ui_modified=!0;a.preventDefault();return!1}
function mousedown(a){var d=fsw_state,c=a.hasOwnProperty("offsetX"),e=(c?a.offsetX:a.layerX-a.target.offsetLeft)/dpi;a=(c?a.offsetY:a.layerY-a.target.offsetTop)/dpi;for(var c=inFswOuterDiam*inFswOuterDiam,f,g=0,n=0,ma=0,n=0;2>n;++n)for(ma=1<<8*n,g=0;8>g;++g,ma<<=1)f=(e-(hLeft+g*hSpacing))*(e-(hLeft+g*hSpacing))+(a-(vStart-n*vSpacing))*(a-(vStart-n*vSpacing)),f<c&&(fsw_state|=ma);d!==fsw_state&&(ui_modified=!0)}function mouseup(a){fsw_state=0;ui_modified=!0}
function hex1(a){return a.toString(16).toUpperCase().substring(0,1)}function hex2(a){a=a.toString(16).toUpperCase();return("00"+a).substring(a.length)}function _fsw_poll(){return fsw_state}function _led_set(a){var d=a&255;a=a>>>8&255;led_state_bot!=d&&(ui_modified=!0);led_state_top!=a&&(ui_modified=!0);led_state_bot=d;led_state_top=a}
function _midi_send_cmd1(a,d,c){a=""+hex1(a)+hex1(d)+" "+hex2(c)+"\n";midiLog.appendChild(document.createTextNode(a));midiLog.scrollTop=midiLog.scrollHeight-midiLogHeight}function _midi_send_cmd2(a,d,c,e){a=""+hex1(a)+hex1(d)+" "+hex2(c)+" "+hex2(e)+"\n";midiLog.appendChild(document.createTextNode(a));midiLog.scrollTop=midiLog.scrollHeight-midiLogHeight}
function _flash_load(a,d,c){var e=localStorage.getItem("flash");if(null===e||2048>e.length)e=Array(1025).join("00"),localStorage.setItem("flash",e);for(var f=0;f<d;f++){var g=parseInt(e.substring(2*(a+f),2*(a+f)+2),16);eminorv2.setValue(c+f,g,"i8")}}
function _flash_store(a,d,c){if((a&-64)!==(a+d-1&-64))throw"Flash store cannot cross 64-byte boundary!";var e=localStorage.getItem("flash");if(null===e||2048>e.length)e=Array(1025).join("00");for(var f=0;f<d;f++)var g=eminorv2.getValue(c+f,"i8"),g=hex2(g),e=e.substring(0,2*(a+f))+g+e.substring(2*(a+f)+2);localStorage.setItem("flash",e)}
function init(){window.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(a,c){window.setTimeout(a,1E3/60)}}();midiLog=document.getElementById("midiLog");midiLogHeight=midiLog.clientHeight;void 0!==midiLog.style["overflow-y"]?midiLog.style["overflow-y"]="scroll":midiLog.style.overflow="-moz-scrollbars-vertical";cvs=document.getElementById("cvs");
ctx=cvs.getContext("2d");cvs.setAttribute("width",inWidth*dpi);cvs.setAttribute("height",inHeight*dpi);cvs.addEventListener("mousedown",mousedown,!0);cvs.addEventListener("mouseup",mouseup,!0);cvs.addEventListener("keydown",keydown,!1);cvs.addEventListener("keyup",keyup,!1);cvs.focus();var a=document.getElementById("clearMidiOut");a&&a.addEventListener("click",function(a){a.preventDefault();a=midiLog.childNodes;for(var c=a.length-1;0<=c;c--)midiLog.removeChild(a[c]);cvs.focus();return!1});eminorv2._controller_init();
requestAnimFrame(renderUI);setInterval(function(){eminorv2._controller_10msec_timer();eminorv2._controller_handle();ui_modified&&(requestAnimFrame(renderUI),ui_modified=!1)},10)}document.addEventListener?document.addEventListener("DOMContentLoaded",init,!1):document.attachEvent("onload",init);
